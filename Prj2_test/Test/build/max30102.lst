ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"max30102.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/max30102.c"
  18              		.section	.text.max30102_getUnreadSampleCount,"ax",%progbits
  19              		.align	1
  20              		.global	max30102_getUnreadSampleCount
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	max30102_getUnreadSampleCount:
  26              	.LFB66:
   1:Core/Src/max30102.c **** #include "stm32f1xx_hal.h"
   2:Core/Src/max30102.c **** #include "max30102.h"
   3:Core/Src/max30102.c **** 
   4:Core/Src/max30102.c **** #define MAX30102_ADDR_WRITE 0xae
   5:Core/Src/max30102.c **** #define MAX30102_ADDR_READ 0xaf
   6:Core/Src/max30102.c **** 
   7:Core/Src/max30102.c **** #define RES_INTERRUPT_STATUS_1 0x00
   8:Core/Src/max30102.c **** #define RES_INTERRUPT_STATUS_2 0x01
   9:Core/Src/max30102.c **** #define RES_INTERRUPT_ENABLE_1 0x02
  10:Core/Src/max30102.c **** #define RES_INTERRUPT_ENABLE_2 0x03
  11:Core/Src/max30102.c **** #define RES_FIFO_WRITE_POINTER 0x04
  12:Core/Src/max30102.c **** #define RES_OVERFLOW_COUNTER 0x05
  13:Core/Src/max30102.c **** #define RES_FIFO_READ_POINTER 0x06
  14:Core/Src/max30102.c **** #define RES_FIFO_DATA_REGISTER 0x07
  15:Core/Src/max30102.c **** #define RES_FIFO_CONFIGURATION 0x08
  16:Core/Src/max30102.c **** #define RES_MODE_CONFIGURATION 0x09
  17:Core/Src/max30102.c **** #define RES_SPO2_CONFIGURATION 0x0a
  18:Core/Src/max30102.c **** #define RES_LED_PLUSE_AMPLITUDE_1 0x0c
  19:Core/Src/max30102.c **** #define RES_LED_PLUSE_AMPLITUDE_2 0x0d
  20:Core/Src/max30102.c **** #define RES_PROXIMITY_MODE_LED_PLUSE_AMPLITUDE 0x10
  21:Core/Src/max30102.c **** #define RES_MULTI_LED_MODE_CONTROL_1 0x11
  22:Core/Src/max30102.c **** #define RES_MULTI_LED_MODE_CONTROL_2 0x12
  23:Core/Src/max30102.c **** #define RES_DIE_TEMP_INTEGER 0x1f
  24:Core/Src/max30102.c **** #define RES_DIE_TEMP_FRACTION 0x20
  25:Core/Src/max30102.c **** #define RES_DIE_TEMPERATURE_CONFIG 0x21
  26:Core/Src/max30102.c **** #define RES_PROXIMITY_INTERRUPT_THRESHOLD 0x30
  27:Core/Src/max30102.c **** #define RES_REVISION_ID 0xfe
  28:Core/Src/max30102.c **** #define RES_PART_ID 0xff
  29:Core/Src/max30102.c **** 
  30:Core/Src/max30102.c **** extern I2C_HandleTypeDef hi2c2;
  31:Core/Src/max30102.c **** 
  32:Core/Src/max30102.c **** void max30102_init()
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 2


  33:Core/Src/max30102.c **** {
  34:Core/Src/max30102.c ****     uint8_t data = 0;
  35:Core/Src/max30102.c ****     /*reset*/
  36:Core/Src/max30102.c ****     data = 0x40;
  37:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
  38:Core/Src/max30102.c ****     do
  39:Core/Src/max30102.c ****     {
  40:Core/Src/max30102.c ****         HAL_I2C_Mem_Read(&hi2c2, MAX30102_ADDR_READ, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, 
  41:Core/Src/max30102.c ****     } while (data & 0x40);
  42:Core/Src/max30102.c ****     
  43:Core/Src/max30102.c ****     data = 0x40;
  44:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_INTERRUPT_ENABLE_1, I2C_MEMADD_SIZE_8BIT, &d
  45:Core/Src/max30102.c ****  
  46:Core/Src/max30102.c ****     data = 0x63;
  47:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_SPO2_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
  48:Core/Src/max30102.c ****     
  49:Core/Src/max30102.c ****     data = 0x47;
  50:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_LED_PLUSE_AMPLITUDE_1, I2C_MEMADD_SIZE_8BIT,
  51:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_LED_PLUSE_AMPLITUDE_2, I2C_MEMADD_SIZE_8BIT,
  52:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_PROXIMITY_MODE_LED_PLUSE_AMPLITUDE, I2C_MEMA
  53:Core/Src/max30102.c ****     /*FIFO clear*/
  54:Core/Src/max30102.c ****     data = 0;
  55:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_FIFO_WRITE_POINTER, I2C_MEMADD_SIZE_8BIT, &d
  56:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_OVERFLOW_COUNTER, I2C_MEMADD_SIZE_8BIT, &dat
  57:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_FIFO_READ_POINTER, I2C_MEMADD_SIZE_8BIT, &da
  58:Core/Src/max30102.c ****     /*interrupt status clear*/
  59:Core/Src/max30102.c ****     max30102_getStatus();
  60:Core/Src/max30102.c ****     
  61:Core/Src/max30102.c ****     // data = 1;
  62:Core/Src/max30102.c ****     // HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_DIE_TEMPERATURE_CONFIG, I2C_MEMADD_SIZE_8
  63:Core/Src/max30102.c ****     /*SPO2 Mode*/
  64:Core/Src/max30102.c ****     data = 0x03;
  65:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
  66:Core/Src/max30102.c **** }
  67:Core/Src/max30102.c **** 
  68:Core/Src/max30102.c **** uint8_t max30102_getUnreadSampleCount()
  69:Core/Src/max30102.c **** {
  27              		.loc 1 69 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 70B5     		push	{r4, r5, r6, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 16
  34              		.cfi_offset 4, -16
  35              		.cfi_offset 5, -12
  36              		.cfi_offset 6, -8
  37              		.cfi_offset 14, -4
  38 0002 86B0     		sub	sp, sp, #24
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 40
  70:Core/Src/max30102.c ****     uint8_t wr = 0, rd = 0;
  41              		.loc 1 70 5 view .LVU1
  42              		.loc 1 70 13 is_stmt 0 view .LVU2
  43 0004 0023     		movs	r3, #0
  44 0006 8DF81730 		strb	r3, [sp, #23]
  45              		.loc 1 70 21 view .LVU3
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 3


  46 000a 8DF81630 		strb	r3, [sp, #22]
  71:Core/Src/max30102.c ****     HAL_I2C_Mem_Read(&hi2c2, MAX30102_ADDR_READ, RES_FIFO_WRITE_POINTER, I2C_MEMADD_SIZE_8BIT, &wr,
  47              		.loc 1 71 5 is_stmt 1 view .LVU4
  48 000e 144D     		ldr	r5, .L6
  49 0010 0A26     		movs	r6, #10
  50 0012 0296     		str	r6, [sp, #8]
  51 0014 0124     		movs	r4, #1
  52 0016 0194     		str	r4, [sp, #4]
  53 0018 0DF11703 		add	r3, sp, #23
  54 001c 0093     		str	r3, [sp]
  55 001e 2346     		mov	r3, r4
  56 0020 0422     		movs	r2, #4
  57 0022 AF21     		movs	r1, #175
  58 0024 2846     		mov	r0, r5
  59 0026 FFF7FEFF 		bl	HAL_I2C_Mem_Read
  60              	.LVL0:
  72:Core/Src/max30102.c ****     HAL_I2C_Mem_Read(&hi2c2, MAX30102_ADDR_READ, RES_FIFO_READ_POINTER, I2C_MEMADD_SIZE_8BIT, &rd, 
  61              		.loc 1 72 5 view .LVU5
  62 002a 0296     		str	r6, [sp, #8]
  63 002c 0194     		str	r4, [sp, #4]
  64 002e 0DF11603 		add	r3, sp, #22
  65 0032 0093     		str	r3, [sp]
  66 0034 2346     		mov	r3, r4
  67 0036 0622     		movs	r2, #6
  68 0038 AF21     		movs	r1, #175
  69 003a 2846     		mov	r0, r5
  70 003c FFF7FEFF 		bl	HAL_I2C_Mem_Read
  71              	.LVL1:
  73:Core/Src/max30102.c ****     if ((wr - rd) < 0)
  72              		.loc 1 73 5 view .LVU6
  73              		.loc 1 73 13 is_stmt 0 view .LVU7
  74 0040 9DF81700 		ldrb	r0, [sp, #23]	@ zero_extendqisi2
  75 0044 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
  76 0048 C21A     		subs	r2, r0, r3
  77              		.loc 1 73 8 view .LVU8
  78 004a 002A     		cmp	r2, #0
  79 004c 03DB     		blt	.L5
  74:Core/Src/max30102.c ****         return wr - rd + 32;
  75:Core/Src/max30102.c ****     else
  76:Core/Src/max30102.c ****         return wr - rd;
  80              		.loc 1 76 9 is_stmt 1 view .LVU9
  81              		.loc 1 76 19 is_stmt 0 view .LVU10
  82 004e C01A     		subs	r0, r0, r3
  83 0050 C0B2     		uxtb	r0, r0
  84              	.L3:
  77:Core/Src/max30102.c **** }
  85              		.loc 1 77 1 view .LVU11
  86 0052 06B0     		add	sp, sp, #24
  87              	.LCFI2:
  88              		.cfi_remember_state
  89              		.cfi_def_cfa_offset 16
  90              		@ sp needed
  91 0054 70BD     		pop	{r4, r5, r6, pc}
  92              	.L5:
  93              	.LCFI3:
  94              		.cfi_restore_state
  74:Core/Src/max30102.c ****         return wr - rd + 32;
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 4


  95              		.loc 1 74 9 is_stmt 1 view .LVU12
  74:Core/Src/max30102.c ****         return wr - rd + 32;
  96              		.loc 1 74 19 is_stmt 0 view .LVU13
  97 0056 D0B2     		uxtb	r0, r2
  74:Core/Src/max30102.c ****         return wr - rd + 32;
  98              		.loc 1 74 24 view .LVU14
  99 0058 2030     		adds	r0, r0, #32
 100 005a C0B2     		uxtb	r0, r0
 101 005c F9E7     		b	.L3
 102              	.L7:
 103 005e 00BF     		.align	2
 104              	.L6:
 105 0060 00000000 		.word	hi2c2
 106              		.cfi_endproc
 107              	.LFE66:
 109              		.section	.text.max30102_getFIFO,"ax",%progbits
 110              		.align	1
 111              		.global	max30102_getFIFO
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 116              	max30102_getFIFO:
 117              	.LVL2:
 118              	.LFB67:
  78:Core/Src/max30102.c **** 
  79:Core/Src/max30102.c **** void max30102_getFIFO(SAMPLE *data, uint8_t sampleCount)
  80:Core/Src/max30102.c **** {
 119              		.loc 1 80 1 is_stmt 1 view -0
 120              		.cfi_startproc
 121              		@ args = 0, pretend = 0, frame = 32
 122              		@ frame_needed = 0, uses_anonymous_args = 0
 123              		.loc 1 80 1 is_stmt 0 view .LVU16
 124 0000 30B5     		push	{r4, r5, lr}
 125              	.LCFI4:
 126              		.cfi_def_cfa_offset 12
 127              		.cfi_offset 4, -12
 128              		.cfi_offset 5, -8
 129              		.cfi_offset 14, -4
 130 0002 8DB0     		sub	sp, sp, #52
 131              	.LCFI5:
 132              		.cfi_def_cfa_offset 64
 133 0004 0446     		mov	r4, r0
 134 0006 0D46     		mov	r5, r1
  81:Core/Src/max30102.c ****     uint8_t dataTemp[5 * 6];
 135              		.loc 1 81 5 is_stmt 1 view .LVU17
  82:Core/Src/max30102.c ****     if (sampleCount > 5)
 136              		.loc 1 82 5 view .LVU18
 137              		.loc 1 82 8 is_stmt 0 view .LVU19
 138 0008 0529     		cmp	r1, #5
 139 000a 00D9     		bls	.L9
  83:Core/Src/max30102.c ****         sampleCount = 5;
 140              		.loc 1 83 21 view .LVU20
 141 000c 0525     		movs	r5, #5
 142              	.L9:
 143              	.LVL3:
  84:Core/Src/max30102.c ****     HAL_I2C_Mem_Read(&hi2c2, MAX30102_ADDR_READ, RES_FIFO_DATA_REGISTER,
 144              		.loc 1 84 5 is_stmt 1 view .LVU21
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 5


 145 000e 1923     		movs	r3, #25
 146 0010 0293     		str	r3, [sp, #8]
 147 0012 05EB4503 		add	r3, r5, r5, lsl #1
 148 0016 5B00     		lsls	r3, r3, #1
 149 0018 9BB2     		uxth	r3, r3
 150 001a 0193     		str	r3, [sp, #4]
 151 001c 04AB     		add	r3, sp, #16
 152 001e 0093     		str	r3, [sp]
 153 0020 0123     		movs	r3, #1
 154 0022 0722     		movs	r2, #7
 155 0024 AF21     		movs	r1, #175
 156 0026 1E48     		ldr	r0, .L14
 157              	.LVL4:
 158              		.loc 1 84 5 is_stmt 0 view .LVU22
 159 0028 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 160              	.LVL5:
  85:Core/Src/max30102.c ****                      I2C_MEMADD_SIZE_8BIT, dataTemp,
  86:Core/Src/max30102.c ****                      6 * sampleCount, 25);
  87:Core/Src/max30102.c ****     uint8_t i;
 161              		.loc 1 87 5 is_stmt 1 view .LVU23
  88:Core/Src/max30102.c ****     for (i = 0; i < sampleCount; i++)
 162              		.loc 1 88 5 view .LVU24
 163              		.loc 1 88 12 is_stmt 0 view .LVU25
 164 002c 0021     		movs	r1, #0
 165              		.loc 1 88 5 view .LVU26
 166 002e 32E0     		b	.L10
 167              	.LVL6:
 168              	.L11:
  89:Core/Src/max30102.c ****     {
  90:Core/Src/max30102.c ****         data[i].red = (((uint32_t)dataTemp[i * 6]) << 16 | ((uint32_t)dataTemp[i * 6 + 1]) << 8 | d
 169              		.loc 1 90 9 is_stmt 1 discriminator 3 view .LVU27
 170              		.loc 1 90 46 is_stmt 0 discriminator 3 view .LVU28
 171 0030 01EB4103 		add	r3, r1, r1, lsl #1
 172 0034 5A00     		lsls	r2, r3, #1
 173              		.loc 1 90 43 discriminator 3 view .LVU29
 174 0036 0CA8     		add	r0, sp, #48
 175 0038 00EB4303 		add	r3, r0, r3, lsl #1
 176 003c 13F8200C 		ldrb	r0, [r3, #-32]	@ zero_extendqisi2
 177              		.loc 1 90 79 discriminator 3 view .LVU30
 178 0040 02F13103 		add	r3, r2, #49
 179 0044 6B44     		add	r3, sp, r3
 180 0046 13F8203C 		ldrb	r3, [r3, #-32]	@ zero_extendqisi2
 181              		.loc 1 90 92 discriminator 3 view .LVU31
 182 004a 1B02     		lsls	r3, r3, #8
 183              		.loc 1 90 58 discriminator 3 view .LVU32
 184 004c 43EA0043 		orr	r3, r3, r0, lsl #16
 185              		.loc 1 90 107 discriminator 3 view .LVU33
 186 0050 02F13200 		add	r0, r2, #50
 187 0054 6844     		add	r0, sp, r0
 188 0056 10F8200C 		ldrb	r0, [r0, #-32]	@ zero_extendqisi2
 189              		.loc 1 90 97 discriminator 3 view .LVU34
 190 005a 0343     		orrs	r3, r3, r0
 191              		.loc 1 90 13 discriminator 3 view .LVU35
 192 005c 04EBC100 		add	r0, r4, r1, lsl #3
 193              		.loc 1 90 120 discriminator 3 view .LVU36
 194 0060 C3F31103 		ubfx	r3, r3, #0, #18
 195              		.loc 1 90 21 discriminator 3 view .LVU37
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 6


 196 0064 44F83130 		str	r3, [r4, r1, lsl #3]
  91:Core/Src/max30102.c ****         data[i].iRed = (((uint32_t)dataTemp[i * 6 + 3]) << 16 | ((uint32_t)dataTemp[i * 6 + 4]) << 
 197              		.loc 1 91 9 is_stmt 1 discriminator 3 view .LVU38
 198              		.loc 1 91 44 is_stmt 0 discriminator 3 view .LVU39
 199 0068 02F13303 		add	r3, r2, #51
 200 006c 6B44     		add	r3, sp, r3
 201 006e 13F820CC 		ldrb	ip, [r3, #-32]	@ zero_extendqisi2
 202              		.loc 1 91 84 discriminator 3 view .LVU40
 203 0072 02F13403 		add	r3, r2, #52
 204 0076 6B44     		add	r3, sp, r3
 205 0078 13F8203C 		ldrb	r3, [r3, #-32]	@ zero_extendqisi2
 206              		.loc 1 91 97 discriminator 3 view .LVU41
 207 007c 1B02     		lsls	r3, r3, #8
 208              		.loc 1 91 63 discriminator 3 view .LVU42
 209 007e 43EA0C43 		orr	r3, r3, ip, lsl #16
 210              		.loc 1 91 112 discriminator 3 view .LVU43
 211 0082 3532     		adds	r2, r2, #53
 212 0084 6A44     		add	r2, sp, r2
 213 0086 12F8202C 		ldrb	r2, [r2, #-32]	@ zero_extendqisi2
 214              		.loc 1 91 102 discriminator 3 view .LVU44
 215 008a 1343     		orrs	r3, r3, r2
 216              		.loc 1 91 125 discriminator 3 view .LVU45
 217 008c C3F31103 		ubfx	r3, r3, #0, #18
 218              		.loc 1 91 22 discriminator 3 view .LVU46
 219 0090 4360     		str	r3, [r0, #4]
  88:Core/Src/max30102.c ****     for (i = 0; i < sampleCount; i++)
 220              		.loc 1 88 35 is_stmt 1 discriminator 3 view .LVU47
 221 0092 0131     		adds	r1, r1, #1
 222              	.LVL7:
  88:Core/Src/max30102.c ****     for (i = 0; i < sampleCount; i++)
 223              		.loc 1 88 35 is_stmt 0 discriminator 3 view .LVU48
 224 0094 C9B2     		uxtb	r1, r1
 225              	.LVL8:
 226              	.L10:
  88:Core/Src/max30102.c ****     for (i = 0; i < sampleCount; i++)
 227              		.loc 1 88 19 is_stmt 1 discriminator 1 view .LVU49
 228 0096 8D42     		cmp	r5, r1
 229 0098 CAD8     		bhi	.L11
  92:Core/Src/max30102.c ****     }
  93:Core/Src/max30102.c **** }
 230              		.loc 1 93 1 is_stmt 0 view .LVU50
 231 009a 0DB0     		add	sp, sp, #52
 232              	.LCFI6:
 233              		.cfi_def_cfa_offset 12
 234              		@ sp needed
 235 009c 30BD     		pop	{r4, r5, pc}
 236              	.LVL9:
 237              	.L15:
 238              		.loc 1 93 1 view .LVU51
 239 009e 00BF     		.align	2
 240              	.L14:
 241 00a0 00000000 		.word	hi2c2
 242              		.cfi_endproc
 243              	.LFE67:
 245              		.section	.text.max30102_getStatus,"ax",%progbits
 246              		.align	1
 247              		.global	max30102_getStatus
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 7


 248              		.syntax unified
 249              		.thumb
 250              		.thumb_func
 252              	max30102_getStatus:
 253              	.LFB68:
  94:Core/Src/max30102.c **** 
  95:Core/Src/max30102.c **** uint8_t max30102_getStatus()
  96:Core/Src/max30102.c **** {
 254              		.loc 1 96 1 is_stmt 1 view -0
 255              		.cfi_startproc
 256              		@ args = 0, pretend = 0, frame = 8
 257              		@ frame_needed = 0, uses_anonymous_args = 0
 258 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 259              	.LCFI7:
 260              		.cfi_def_cfa_offset 24
 261              		.cfi_offset 4, -24
 262              		.cfi_offset 5, -20
 263              		.cfi_offset 6, -16
 264              		.cfi_offset 7, -12
 265              		.cfi_offset 8, -8
 266              		.cfi_offset 14, -4
 267 0004 86B0     		sub	sp, sp, #24
 268              	.LCFI8:
 269              		.cfi_def_cfa_offset 48
  97:Core/Src/max30102.c ****     uint8_t data = 0, dataTemp = 0;
 270              		.loc 1 97 5 view .LVU53
 271              	.LVL10:
 272              		.loc 1 97 23 is_stmt 0 view .LVU54
 273 0006 0022     		movs	r2, #0
 274 0008 8DF81720 		strb	r2, [sp, #23]
  98:Core/Src/max30102.c ****     HAL_I2C_Mem_Read(&hi2c2, MAX30102_ADDR_READ, RES_INTERRUPT_STATUS_1, I2C_MEMADD_SIZE_8BIT, &dat
 275              		.loc 1 98 5 is_stmt 1 view .LVU55
 276 000c 0F4D     		ldr	r5, .L18
 277 000e 0A27     		movs	r7, #10
 278 0010 0297     		str	r7, [sp, #8]
 279 0012 0124     		movs	r4, #1
 280 0014 0194     		str	r4, [sp, #4]
 281 0016 0DF11706 		add	r6, sp, #23
 282 001a 0096     		str	r6, [sp]
 283 001c 2346     		mov	r3, r4
 284 001e AF21     		movs	r1, #175
 285 0020 2846     		mov	r0, r5
 286 0022 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 287              	.LVL11:
  99:Core/Src/max30102.c ****     data = dataTemp;
 288              		.loc 1 99 5 view .LVU56
 289              		.loc 1 99 10 is_stmt 0 view .LVU57
 290 0026 9DF81780 		ldrb	r8, [sp, #23]	@ zero_extendqisi2
 291              	.LVL12:
 100:Core/Src/max30102.c ****     HAL_I2C_Mem_Read(&hi2c2, MAX30102_ADDR_READ, RES_INTERRUPT_STATUS_2, I2C_MEMADD_SIZE_8BIT, &dat
 292              		.loc 1 100 5 is_stmt 1 view .LVU58
 293 002a 0297     		str	r7, [sp, #8]
 294 002c 0194     		str	r4, [sp, #4]
 295 002e 0096     		str	r6, [sp]
 296 0030 2346     		mov	r3, r4
 297 0032 2246     		mov	r2, r4
 298 0034 AF21     		movs	r1, #175
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 8


 299 0036 2846     		mov	r0, r5
 300 0038 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 301              	.LVL13:
 101:Core/Src/max30102.c ****     return data | dataTemp;
 302              		.loc 1 101 5 view .LVU59
 303              		.loc 1 101 17 is_stmt 0 view .LVU60
 304 003c 9DF81700 		ldrb	r0, [sp, #23]	@ zero_extendqisi2
 102:Core/Src/max30102.c **** }
 305              		.loc 1 102 1 view .LVU61
 306 0040 48EA0000 		orr	r0, r8, r0
 307 0044 06B0     		add	sp, sp, #24
 308              	.LCFI9:
 309              		.cfi_def_cfa_offset 24
 310              		@ sp needed
 311 0046 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 312              	.LVL14:
 313              	.L19:
 314              		.loc 1 102 1 view .LVU62
 315 004a 00BF     		.align	2
 316              	.L18:
 317 004c 00000000 		.word	hi2c2
 318              		.cfi_endproc
 319              	.LFE68:
 321              		.section	.text.max30102_init,"ax",%progbits
 322              		.align	1
 323              		.global	max30102_init
 324              		.syntax unified
 325              		.thumb
 326              		.thumb_func
 328              	max30102_init:
 329              	.LFB65:
  33:Core/Src/max30102.c ****     uint8_t data = 0;
 330              		.loc 1 33 1 is_stmt 1 view -0
 331              		.cfi_startproc
 332              		@ args = 0, pretend = 0, frame = 8
 333              		@ frame_needed = 0, uses_anonymous_args = 0
 334 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 335              	.LCFI10:
 336              		.cfi_def_cfa_offset 20
 337              		.cfi_offset 4, -20
 338              		.cfi_offset 5, -16
 339              		.cfi_offset 6, -12
 340              		.cfi_offset 7, -8
 341              		.cfi_offset 14, -4
 342 0002 87B0     		sub	sp, sp, #28
 343              	.LCFI11:
 344              		.cfi_def_cfa_offset 48
  34:Core/Src/max30102.c ****     /*reset*/
 345              		.loc 1 34 5 view .LVU64
  34:Core/Src/max30102.c ****     /*reset*/
 346              		.loc 1 34 13 is_stmt 0 view .LVU65
 347 0004 0023     		movs	r3, #0
 348 0006 8DF81730 		strb	r3, [sp, #23]
  36:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
 349              		.loc 1 36 5 is_stmt 1 view .LVU66
  36:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
 350              		.loc 1 36 10 is_stmt 0 view .LVU67
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 9


 351 000a 4023     		movs	r3, #64
 352 000c 8DF81730 		strb	r3, [sp, #23]
  37:Core/Src/max30102.c ****     do
 353              		.loc 1 37 5 is_stmt 1 view .LVU68
 354 0010 0A23     		movs	r3, #10
 355 0012 0293     		str	r3, [sp, #8]
 356 0014 0123     		movs	r3, #1
 357 0016 0193     		str	r3, [sp, #4]
 358 0018 0DF11702 		add	r2, sp, #23
 359 001c 0092     		str	r2, [sp]
 360 001e 0922     		movs	r2, #9
 361 0020 AE21     		movs	r1, #174
 362 0022 3E48     		ldr	r0, .L23
 363 0024 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 364              	.LVL15:
 365              	.L21:
  38:Core/Src/max30102.c ****     {
 366              		.loc 1 38 5 discriminator 1 view .LVU69
  40:Core/Src/max30102.c ****     } while (data & 0x40);
 367              		.loc 1 40 9 discriminator 1 view .LVU70
 368 0028 0A23     		movs	r3, #10
 369 002a 0293     		str	r3, [sp, #8]
 370 002c 0123     		movs	r3, #1
 371 002e 0193     		str	r3, [sp, #4]
 372 0030 0DF11702 		add	r2, sp, #23
 373 0034 0092     		str	r2, [sp]
 374 0036 0922     		movs	r2, #9
 375 0038 AF21     		movs	r1, #175
 376 003a 3848     		ldr	r0, .L23
 377 003c FFF7FEFF 		bl	HAL_I2C_Mem_Read
 378              	.LVL16:
  41:Core/Src/max30102.c ****     
 379              		.loc 1 41 14 discriminator 1 view .LVU71
  41:Core/Src/max30102.c ****     
 380              		.loc 1 41 19 is_stmt 0 discriminator 1 view .LVU72
 381 0040 9DF81730 		ldrb	r3, [sp, #23]	@ zero_extendqisi2
  41:Core/Src/max30102.c ****     
 382              		.loc 1 41 14 discriminator 1 view .LVU73
 383 0044 13F0400F 		tst	r3, #64
 384 0048 EED1     		bne	.L21
  43:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_INTERRUPT_ENABLE_1, I2C_MEMADD_SIZE_8BIT, &d
 385              		.loc 1 43 5 is_stmt 1 view .LVU74
  43:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_INTERRUPT_ENABLE_1, I2C_MEMADD_SIZE_8BIT, &d
 386              		.loc 1 43 10 is_stmt 0 view .LVU75
 387 004a 4023     		movs	r3, #64
 388 004c 8DF81730 		strb	r3, [sp, #23]
  44:Core/Src/max30102.c ****  
 389              		.loc 1 44 5 is_stmt 1 view .LVU76
 390 0050 324E     		ldr	r6, .L23
 391 0052 0A25     		movs	r5, #10
 392 0054 0295     		str	r5, [sp, #8]
 393 0056 0124     		movs	r4, #1
 394 0058 0194     		str	r4, [sp, #4]
 395 005a 0DF11707 		add	r7, sp, #23
 396 005e 0097     		str	r7, [sp]
 397 0060 2346     		mov	r3, r4
 398 0062 0222     		movs	r2, #2
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 10


 399 0064 AE21     		movs	r1, #174
 400 0066 3046     		mov	r0, r6
 401 0068 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 402              	.LVL17:
  46:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_SPO2_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
 403              		.loc 1 46 5 view .LVU77
  46:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_SPO2_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
 404              		.loc 1 46 10 is_stmt 0 view .LVU78
 405 006c 6323     		movs	r3, #99
 406 006e 8DF81730 		strb	r3, [sp, #23]
  47:Core/Src/max30102.c ****     
 407              		.loc 1 47 5 is_stmt 1 view .LVU79
 408 0072 0295     		str	r5, [sp, #8]
 409 0074 0194     		str	r4, [sp, #4]
 410 0076 0097     		str	r7, [sp]
 411 0078 2346     		mov	r3, r4
 412 007a 2A46     		mov	r2, r5
 413 007c AE21     		movs	r1, #174
 414 007e 3046     		mov	r0, r6
 415 0080 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 416              	.LVL18:
  49:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_LED_PLUSE_AMPLITUDE_1, I2C_MEMADD_SIZE_8BIT,
 417              		.loc 1 49 5 view .LVU80
  49:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_LED_PLUSE_AMPLITUDE_1, I2C_MEMADD_SIZE_8BIT,
 418              		.loc 1 49 10 is_stmt 0 view .LVU81
 419 0084 4723     		movs	r3, #71
 420 0086 8DF81730 		strb	r3, [sp, #23]
  50:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_LED_PLUSE_AMPLITUDE_2, I2C_MEMADD_SIZE_8BIT,
 421              		.loc 1 50 5 is_stmt 1 view .LVU82
 422 008a 0295     		str	r5, [sp, #8]
 423 008c 0194     		str	r4, [sp, #4]
 424 008e 0097     		str	r7, [sp]
 425 0090 2346     		mov	r3, r4
 426 0092 0C22     		movs	r2, #12
 427 0094 AE21     		movs	r1, #174
 428 0096 3046     		mov	r0, r6
 429 0098 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 430              	.LVL19:
  51:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_PROXIMITY_MODE_LED_PLUSE_AMPLITUDE, I2C_MEMA
 431              		.loc 1 51 5 view .LVU83
 432 009c 0295     		str	r5, [sp, #8]
 433 009e 0194     		str	r4, [sp, #4]
 434 00a0 0097     		str	r7, [sp]
 435 00a2 2346     		mov	r3, r4
 436 00a4 0D22     		movs	r2, #13
 437 00a6 AE21     		movs	r1, #174
 438 00a8 3046     		mov	r0, r6
 439 00aa FFF7FEFF 		bl	HAL_I2C_Mem_Write
 440              	.LVL20:
  52:Core/Src/max30102.c ****     /*FIFO clear*/
 441              		.loc 1 52 5 view .LVU84
 442 00ae 0295     		str	r5, [sp, #8]
 443 00b0 0194     		str	r4, [sp, #4]
 444 00b2 0097     		str	r7, [sp]
 445 00b4 2346     		mov	r3, r4
 446 00b6 1022     		movs	r2, #16
 447 00b8 AE21     		movs	r1, #174
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 11


 448 00ba 3046     		mov	r0, r6
 449 00bc FFF7FEFF 		bl	HAL_I2C_Mem_Write
 450              	.LVL21:
  54:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_FIFO_WRITE_POINTER, I2C_MEMADD_SIZE_8BIT, &d
 451              		.loc 1 54 5 view .LVU85
  54:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_FIFO_WRITE_POINTER, I2C_MEMADD_SIZE_8BIT, &d
 452              		.loc 1 54 10 is_stmt 0 view .LVU86
 453 00c0 0023     		movs	r3, #0
 454 00c2 8DF81730 		strb	r3, [sp, #23]
  55:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_OVERFLOW_COUNTER, I2C_MEMADD_SIZE_8BIT, &dat
 455              		.loc 1 55 5 is_stmt 1 view .LVU87
 456 00c6 0295     		str	r5, [sp, #8]
 457 00c8 0194     		str	r4, [sp, #4]
 458 00ca 0097     		str	r7, [sp]
 459 00cc 2346     		mov	r3, r4
 460 00ce 0422     		movs	r2, #4
 461 00d0 AE21     		movs	r1, #174
 462 00d2 3046     		mov	r0, r6
 463 00d4 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 464              	.LVL22:
  56:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_FIFO_READ_POINTER, I2C_MEMADD_SIZE_8BIT, &da
 465              		.loc 1 56 5 view .LVU88
 466 00d8 0295     		str	r5, [sp, #8]
 467 00da 0194     		str	r4, [sp, #4]
 468 00dc 0097     		str	r7, [sp]
 469 00de 2346     		mov	r3, r4
 470 00e0 0522     		movs	r2, #5
 471 00e2 AE21     		movs	r1, #174
 472 00e4 3046     		mov	r0, r6
 473 00e6 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 474              	.LVL23:
  57:Core/Src/max30102.c ****     /*interrupt status clear*/
 475              		.loc 1 57 5 view .LVU89
 476 00ea 0295     		str	r5, [sp, #8]
 477 00ec 0194     		str	r4, [sp, #4]
 478 00ee 0097     		str	r7, [sp]
 479 00f0 2346     		mov	r3, r4
 480 00f2 0622     		movs	r2, #6
 481 00f4 AE21     		movs	r1, #174
 482 00f6 3046     		mov	r0, r6
 483 00f8 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 484              	.LVL24:
  59:Core/Src/max30102.c ****     
 485              		.loc 1 59 5 view .LVU90
 486 00fc FFF7FEFF 		bl	max30102_getStatus
 487              	.LVL25:
  64:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
 488              		.loc 1 64 5 view .LVU91
  64:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
 489              		.loc 1 64 10 is_stmt 0 view .LVU92
 490 0100 0323     		movs	r3, #3
 491 0102 8DF81730 		strb	r3, [sp, #23]
  65:Core/Src/max30102.c **** }
 492              		.loc 1 65 5 is_stmt 1 view .LVU93
 493 0106 0295     		str	r5, [sp, #8]
 494 0108 0194     		str	r4, [sp, #4]
 495 010a 0097     		str	r7, [sp]
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 12


 496 010c 2346     		mov	r3, r4
 497 010e 0922     		movs	r2, #9
 498 0110 AE21     		movs	r1, #174
 499 0112 3046     		mov	r0, r6
 500 0114 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 501              	.LVL26:
  66:Core/Src/max30102.c **** 
 502              		.loc 1 66 1 is_stmt 0 view .LVU94
 503 0118 07B0     		add	sp, sp, #28
 504              	.LCFI12:
 505              		.cfi_def_cfa_offset 20
 506              		@ sp needed
 507 011a F0BD     		pop	{r4, r5, r6, r7, pc}
 508              	.L24:
 509              		.align	2
 510              	.L23:
 511 011c 00000000 		.word	hi2c2
 512              		.cfi_endproc
 513              	.LFE65:
 515              		.section	.text.max30102_OFF,"ax",%progbits
 516              		.align	1
 517              		.global	max30102_OFF
 518              		.syntax unified
 519              		.thumb
 520              		.thumb_func
 522              	max30102_OFF:
 523              	.LFB69:
 103:Core/Src/max30102.c **** 
 104:Core/Src/max30102.c **** 
 105:Core/Src/max30102.c **** 
 106:Core/Src/max30102.c **** void max30102_OFF()
 107:Core/Src/max30102.c **** {
 524              		.loc 1 107 1 is_stmt 1 view -0
 525              		.cfi_startproc
 526              		@ args = 0, pretend = 0, frame = 8
 527              		@ frame_needed = 0, uses_anonymous_args = 0
 528 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 529              	.LCFI13:
 530              		.cfi_def_cfa_offset 20
 531              		.cfi_offset 4, -20
 532              		.cfi_offset 5, -16
 533              		.cfi_offset 6, -12
 534              		.cfi_offset 7, -8
 535              		.cfi_offset 14, -4
 536 0002 87B0     		sub	sp, sp, #28
 537              	.LCFI14:
 538              		.cfi_def_cfa_offset 48
 108:Core/Src/max30102.c ****     uint8_t data = 0;
 539              		.loc 1 108 5 view .LVU96
 540              		.loc 1 108 13 is_stmt 0 view .LVU97
 541 0004 0023     		movs	r3, #0
 542 0006 8DF81730 		strb	r3, [sp, #23]
 109:Core/Src/max30102.c ****     HAL_I2C_Mem_Read(&hi2c2, MAX30102_ADDR_READ, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &dat
 543              		.loc 1 109 5 is_stmt 1 view .LVU98
 544 000a 0F4E     		ldr	r6, .L27
 545 000c 0A27     		movs	r7, #10
 546 000e 0297     		str	r7, [sp, #8]
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 13


 547 0010 0124     		movs	r4, #1
 548 0012 0194     		str	r4, [sp, #4]
 549 0014 0DF11705 		add	r5, sp, #23
 550 0018 0095     		str	r5, [sp]
 551 001a 2346     		mov	r3, r4
 552 001c 0922     		movs	r2, #9
 553 001e AF21     		movs	r1, #175
 554 0020 3046     		mov	r0, r6
 555 0022 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 556              	.LVL27:
 110:Core/Src/max30102.c ****     data |= 0x80;
 557              		.loc 1 110 5 view .LVU99
 558              		.loc 1 110 10 is_stmt 0 view .LVU100
 559 0026 9DF81730 		ldrb	r3, [sp, #23]	@ zero_extendqisi2
 560 002a 63F07F03 		orn	r3, r3, #127
 561 002e 8DF81730 		strb	r3, [sp, #23]
 111:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
 562              		.loc 1 111 5 is_stmt 1 view .LVU101
 563 0032 0297     		str	r7, [sp, #8]
 564 0034 0194     		str	r4, [sp, #4]
 565 0036 0095     		str	r5, [sp]
 566 0038 2346     		mov	r3, r4
 567 003a 0922     		movs	r2, #9
 568 003c AE21     		movs	r1, #174
 569 003e 3046     		mov	r0, r6
 570 0040 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 571              	.LVL28:
 112:Core/Src/max30102.c **** }
 572              		.loc 1 112 1 is_stmt 0 view .LVU102
 573 0044 07B0     		add	sp, sp, #28
 574              	.LCFI15:
 575              		.cfi_def_cfa_offset 20
 576              		@ sp needed
 577 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 578              	.L28:
 579              		.align	2
 580              	.L27:
 581 0048 00000000 		.word	hi2c2
 582              		.cfi_endproc
 583              	.LFE69:
 585              		.section	.text.max30102_ON,"ax",%progbits
 586              		.align	1
 587              		.global	max30102_ON
 588              		.syntax unified
 589              		.thumb
 590              		.thumb_func
 592              	max30102_ON:
 593              	.LFB70:
 113:Core/Src/max30102.c **** 
 114:Core/Src/max30102.c **** void max30102_ON()
 115:Core/Src/max30102.c **** {
 594              		.loc 1 115 1 is_stmt 1 view -0
 595              		.cfi_startproc
 596              		@ args = 0, pretend = 0, frame = 8
 597              		@ frame_needed = 0, uses_anonymous_args = 0
 598 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 599              	.LCFI16:
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 14


 600              		.cfi_def_cfa_offset 20
 601              		.cfi_offset 4, -20
 602              		.cfi_offset 5, -16
 603              		.cfi_offset 6, -12
 604              		.cfi_offset 7, -8
 605              		.cfi_offset 14, -4
 606 0002 87B0     		sub	sp, sp, #28
 607              	.LCFI17:
 608              		.cfi_def_cfa_offset 48
 116:Core/Src/max30102.c ****     uint8_t data = 0;
 609              		.loc 1 116 5 view .LVU104
 610              		.loc 1 116 13 is_stmt 0 view .LVU105
 611 0004 0023     		movs	r3, #0
 612 0006 8DF81730 		strb	r3, [sp, #23]
 117:Core/Src/max30102.c ****     HAL_I2C_Mem_Read(&hi2c2, MAX30102_ADDR_READ, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &dat
 613              		.loc 1 117 5 is_stmt 1 view .LVU106
 614 000a 0F4E     		ldr	r6, .L31
 615 000c 0A27     		movs	r7, #10
 616 000e 0297     		str	r7, [sp, #8]
 617 0010 0124     		movs	r4, #1
 618 0012 0194     		str	r4, [sp, #4]
 619 0014 0DF11705 		add	r5, sp, #23
 620 0018 0095     		str	r5, [sp]
 621 001a 2346     		mov	r3, r4
 622 001c 0922     		movs	r2, #9
 623 001e AF21     		movs	r1, #175
 624 0020 3046     		mov	r0, r6
 625 0022 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 626              	.LVL29:
 118:Core/Src/max30102.c ****     data &= ~(0x80);
 627              		.loc 1 118 5 view .LVU107
 628              		.loc 1 118 10 is_stmt 0 view .LVU108
 629 0026 9DF81730 		ldrb	r3, [sp, #23]	@ zero_extendqisi2
 630 002a 03F07F03 		and	r3, r3, #127
 631 002e 8DF81730 		strb	r3, [sp, #23]
 119:Core/Src/max30102.c ****     HAL_I2C_Mem_Write(&hi2c2, MAX30102_ADDR_WRITE, RES_MODE_CONFIGURATION, I2C_MEMADD_SIZE_8BIT, &d
 632              		.loc 1 119 5 is_stmt 1 view .LVU109
 633 0032 0297     		str	r7, [sp, #8]
 634 0034 0194     		str	r4, [sp, #4]
 635 0036 0095     		str	r5, [sp]
 636 0038 2346     		mov	r3, r4
 637 003a 0922     		movs	r2, #9
 638 003c AE21     		movs	r1, #174
 639 003e 3046     		mov	r0, r6
 640 0040 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 641              	.LVL30:
 120:Core/Src/max30102.c **** }
 642              		.loc 1 120 1 is_stmt 0 view .LVU110
 643 0044 07B0     		add	sp, sp, #28
 644              	.LCFI18:
 645              		.cfi_def_cfa_offset 20
 646              		@ sp needed
 647 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 648              	.L32:
 649              		.align	2
 650              	.L31:
 651 0048 00000000 		.word	hi2c2
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 15


 652              		.cfi_endproc
 653              	.LFE70:
 655              		.section	.text.filter,"ax",%progbits
 656              		.align	1
 657              		.global	filter
 658              		.syntax unified
 659              		.thumb
 660              		.thumb_func
 662              	filter:
 663              	.LVL31:
 664              	.LFB71:
 121:Core/Src/max30102.c **** 
 122:Core/Src/max30102.c **** /************************************************************/
 123:Core/Src/max30102.c **** 
 124:Core/Src/max30102.c **** #define BUFF_SIZE 50
 125:Core/Src/max30102.c **** SAMPLE sampleBuff[BUFF_SIZE];
 126:Core/Src/max30102.c **** 
 127:Core/Src/max30102.c **** uint8_t heartRate = 0;
 128:Core/Src/max30102.c **** uint8_t spo2 = 0;
 129:Core/Src/max30102.c **** 
 130:Core/Src/max30102.c **** uint16_t redAC = 0;
 131:Core/Src/max30102.c **** uint32_t redDC = 0;
 132:Core/Src/max30102.c **** uint16_t iRedAC = 0;
 133:Core/Src/max30102.c **** uint32_t iRedDC = 0;
 134:Core/Src/max30102.c **** 
 135:Core/Src/max30102.c **** #define FILTER_LEVEL 8 
 136:Core/Src/max30102.c **** void filter(SAMPLE *s)
 137:Core/Src/max30102.c **** {
 665              		.loc 1 137 1 is_stmt 1 view -0
 666              		.cfi_startproc
 667              		@ args = 0, pretend = 0, frame = 0
 668              		@ frame_needed = 0, uses_anonymous_args = 0
 669              		.loc 1 137 1 is_stmt 0 view .LVU112
 670 0000 00B5     		push	{lr}
 671              	.LCFI19:
 672              		.cfi_def_cfa_offset 4
 673              		.cfi_offset 14, -4
 138:Core/Src/max30102.c ****     uint8_t i;
 674              		.loc 1 138 5 is_stmt 1 view .LVU113
 139:Core/Src/max30102.c ****     uint32_t red = 0;
 675              		.loc 1 139 5 view .LVU114
 676              	.LVL32:
 140:Core/Src/max30102.c ****     uint32_t ired = 0;
 677              		.loc 1 140 5 view .LVU115
 141:Core/Src/max30102.c ****     for (i = 0; i < FILTER_LEVEL - 1; i++)
 678              		.loc 1 141 5 view .LVU116
 140:Core/Src/max30102.c ****     uint32_t ired = 0;
 679              		.loc 1 140 14 is_stmt 0 view .LVU117
 680 0002 0021     		movs	r1, #0
 139:Core/Src/max30102.c ****     uint32_t red = 0;
 681              		.loc 1 139 14 view .LVU118
 682 0004 8C46     		mov	ip, r1
 683              		.loc 1 141 12 view .LVU119
 684 0006 0B46     		mov	r3, r1
 685              		.loc 1 141 5 view .LVU120
 686 0008 09E0     		b	.L34
 687              	.LVL33:
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 16


 688              	.L35:
 142:Core/Src/max30102.c ****     {
 143:Core/Src/max30102.c ****         red += sampleBuff[i].red;
 689              		.loc 1 143 9 is_stmt 1 discriminator 3 view .LVU121
 690              		.loc 1 143 29 is_stmt 0 discriminator 3 view .LVU122
 691 000a 0B4A     		ldr	r2, .L37
 692              		.loc 1 143 13 discriminator 3 view .LVU123
 693 000c 52F833E0 		ldr	lr, [r2, r3, lsl #3]
 694 0010 F444     		add	ip, ip, lr
 695              	.LVL34:
 144:Core/Src/max30102.c ****         ired += sampleBuff[i].iRed;
 696              		.loc 1 144 9 is_stmt 1 discriminator 3 view .LVU124
 697              		.loc 1 144 30 is_stmt 0 discriminator 3 view .LVU125
 698 0012 02EBC302 		add	r2, r2, r3, lsl #3
 699 0016 5268     		ldr	r2, [r2, #4]
 700              		.loc 1 144 14 discriminator 3 view .LVU126
 701 0018 1144     		add	r1, r1, r2
 702              	.LVL35:
 141:Core/Src/max30102.c ****     for (i = 0; i < FILTER_LEVEL - 1; i++)
 703              		.loc 1 141 40 is_stmt 1 discriminator 3 view .LVU127
 704 001a 0133     		adds	r3, r3, #1
 705              	.LVL36:
 141:Core/Src/max30102.c ****     for (i = 0; i < FILTER_LEVEL - 1; i++)
 706              		.loc 1 141 40 is_stmt 0 discriminator 3 view .LVU128
 707 001c DBB2     		uxtb	r3, r3
 708              	.LVL37:
 709              	.L34:
 141:Core/Src/max30102.c ****     for (i = 0; i < FILTER_LEVEL - 1; i++)
 710              		.loc 1 141 19 is_stmt 1 discriminator 1 view .LVU129
 711 001e 062B     		cmp	r3, #6
 712 0020 F3D9     		bls	.L35
 145:Core/Src/max30102.c ****     }
 146:Core/Src/max30102.c ****     s->red = (red + s->red) / FILTER_LEVEL;
 713              		.loc 1 146 5 view .LVU130
 714              		.loc 1 146 22 is_stmt 0 view .LVU131
 715 0022 0368     		ldr	r3, [r0]
 716              	.LVL38:
 717              		.loc 1 146 19 view .LVU132
 718 0024 6344     		add	r3, r3, ip
 719              		.loc 1 146 29 view .LVU133
 720 0026 DB08     		lsrs	r3, r3, #3
 721              		.loc 1 146 12 view .LVU134
 722 0028 0360     		str	r3, [r0]
 147:Core/Src/max30102.c ****     s->iRed = (ired + s->iRed) / FILTER_LEVEL;
 723              		.loc 1 147 5 is_stmt 1 view .LVU135
 724              		.loc 1 147 24 is_stmt 0 view .LVU136
 725 002a 4368     		ldr	r3, [r0, #4]
 726              		.loc 1 147 21 view .LVU137
 727 002c 0B44     		add	r3, r3, r1
 728              		.loc 1 147 32 view .LVU138
 729 002e DB08     		lsrs	r3, r3, #3
 730              		.loc 1 147 13 view .LVU139
 731 0030 4360     		str	r3, [r0, #4]
 148:Core/Src/max30102.c **** }
 732              		.loc 1 148 1 view .LVU140
 733 0032 5DF804FB 		ldr	pc, [sp], #4
 734              	.L38:
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 17


 735 0036 00BF     		.align	2
 736              	.L37:
 737 0038 00000000 		.word	sampleBuff
 738              		.cfi_endproc
 739              	.LFE71:
 741              		.section	.text.buffInsert,"ax",%progbits
 742              		.align	1
 743              		.global	buffInsert
 744              		.syntax unified
 745              		.thumb
 746              		.thumb_func
 748              	buffInsert:
 749              	.LFB72:
 149:Core/Src/max30102.c **** 
 150:Core/Src/max30102.c **** void buffInsert(SAMPLE s)
 151:Core/Src/max30102.c **** {
 750              		.loc 1 151 1 is_stmt 1 view -0
 751              		.cfi_startproc
 752              		@ args = 0, pretend = 0, frame = 8
 753              		@ frame_needed = 0, uses_anonymous_args = 0
 754              		@ link register save eliminated.
 755 0000 82B0     		sub	sp, sp, #8
 756              	.LCFI20:
 757              		.cfi_def_cfa_offset 8
 758 0002 02AB     		add	r3, sp, #8
 759 0004 03E90300 		stmdb	r3, {r0, r1}
 152:Core/Src/max30102.c ****     uint8_t i;
 760              		.loc 1 152 5 view .LVU142
 153:Core/Src/max30102.c ****     for (i = BUFF_SIZE - 1; i > 0; i--)
 761              		.loc 1 153 5 view .LVU143
 762              	.LVL39:
 763              		.loc 1 153 12 is_stmt 0 view .LVU144
 764 0008 3122     		movs	r2, #49
 765              		.loc 1 153 5 view .LVU145
 766 000a 0CE0     		b	.L40
 767              	.LVL40:
 768              	.L41:
 154:Core/Src/max30102.c ****     {
 155:Core/Src/max30102.c ****         sampleBuff[i].red = sampleBuff[i - 1].red;
 769              		.loc 1 155 9 is_stmt 1 discriminator 3 view .LVU146
 770              		.loc 1 155 42 is_stmt 0 discriminator 3 view .LVU147
 771 000c 511E     		subs	r1, r2, #1
 772              		.loc 1 155 46 discriminator 3 view .LVU148
 773 000e 0A4B     		ldr	r3, .L43
 774 0010 53F83100 		ldr	r0, [r3, r1, lsl #3]
 775              		.loc 1 155 27 discriminator 3 view .LVU149
 776 0014 43F83200 		str	r0, [r3, r2, lsl #3]
 156:Core/Src/max30102.c ****         sampleBuff[i].iRed = sampleBuff[i - 1].iRed;
 777              		.loc 1 156 9 is_stmt 1 discriminator 3 view .LVU150
 778              		.loc 1 156 47 is_stmt 0 discriminator 3 view .LVU151
 779 0018 03EBC100 		add	r0, r3, r1, lsl #3
 780 001c 4068     		ldr	r0, [r0, #4]
 781              		.loc 1 156 28 discriminator 3 view .LVU152
 782 001e 03EBC203 		add	r3, r3, r2, lsl #3
 783 0022 5860     		str	r0, [r3, #4]
 153:Core/Src/max30102.c ****     for (i = BUFF_SIZE - 1; i > 0; i--)
 784              		.loc 1 153 37 is_stmt 1 discriminator 3 view .LVU153
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 18


 785 0024 CAB2     		uxtb	r2, r1
 786              	.LVL41:
 787              	.L40:
 153:Core/Src/max30102.c ****     for (i = BUFF_SIZE - 1; i > 0; i--)
 788              		.loc 1 153 31 discriminator 1 view .LVU154
 789 0026 002A     		cmp	r2, #0
 790 0028 F0D1     		bne	.L41
 157:Core/Src/max30102.c ****     }
 158:Core/Src/max30102.c ****     sampleBuff[0].red = s.red;
 791              		.loc 1 158 5 view .LVU155
 792              		.loc 1 158 23 is_stmt 0 view .LVU156
 793 002a 034B     		ldr	r3, .L43
 794 002c 009A     		ldr	r2, [sp]
 795              	.LVL42:
 796              		.loc 1 158 23 view .LVU157
 797 002e 1A60     		str	r2, [r3]
 159:Core/Src/max30102.c ****     sampleBuff[0].iRed = s.iRed;
 798              		.loc 1 159 5 is_stmt 1 view .LVU158
 799              		.loc 1 159 27 is_stmt 0 view .LVU159
 800 0030 019A     		ldr	r2, [sp, #4]
 801              		.loc 1 159 24 view .LVU160
 802 0032 5A60     		str	r2, [r3, #4]
 160:Core/Src/max30102.c **** }
 803              		.loc 1 160 1 view .LVU161
 804 0034 02B0     		add	sp, sp, #8
 805              	.LCFI21:
 806              		.cfi_def_cfa_offset 0
 807              		@ sp needed
 808 0036 7047     		bx	lr
 809              	.L44:
 810              		.align	2
 811              	.L43:
 812 0038 00000000 		.word	sampleBuff
 813              		.cfi_endproc
 814              	.LFE72:
 816              		.section	.text.calAcDc,"ax",%progbits
 817              		.align	1
 818              		.global	calAcDc
 819              		.syntax unified
 820              		.thumb
 821              		.thumb_func
 823              	calAcDc:
 824              	.LVL43:
 825              	.LFB73:
 161:Core/Src/max30102.c **** 
 162:Core/Src/max30102.c **** void calAcDc(uint16_t *rac, uint32_t *rdc, uint16_t *iac, uint32_t *idc)
 163:Core/Src/max30102.c **** {
 826              		.loc 1 163 1 is_stmt 1 view -0
 827              		.cfi_startproc
 828              		@ args = 0, pretend = 0, frame = 0
 829              		@ frame_needed = 0, uses_anonymous_args = 0
 830              		.loc 1 163 1 is_stmt 0 view .LVU163
 831 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 832              	.LCFI22:
 833              		.cfi_def_cfa_offset 24
 834              		.cfi_offset 4, -24
 835              		.cfi_offset 5, -20
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 19


 836              		.cfi_offset 6, -16
 837              		.cfi_offset 7, -12
 838              		.cfi_offset 8, -8
 839              		.cfi_offset 14, -4
 840 0004 0546     		mov	r5, r0
 841 0006 0E46     		mov	r6, r1
 842 0008 1746     		mov	r7, r2
 843 000a 9846     		mov	r8, r3
 164:Core/Src/max30102.c ****     uint32_t rMax = sampleBuff[0].red;
 844              		.loc 1 164 5 is_stmt 1 view .LVU164
 845              		.loc 1 164 14 is_stmt 0 view .LVU165
 846 000c 184B     		ldr	r3, .L58
 847              	.LVL44:
 848              		.loc 1 164 14 view .LVU166
 849 000e 1968     		ldr	r1, [r3]
 850              	.LVL45:
 165:Core/Src/max30102.c ****     uint32_t rMin = sampleBuff[0].red;
 851              		.loc 1 165 5 is_stmt 1 view .LVU167
 166:Core/Src/max30102.c ****     uint32_t iMax = sampleBuff[0].iRed;
 852              		.loc 1 166 5 view .LVU168
 853              		.loc 1 166 14 is_stmt 0 view .LVU169
 854 0010 5A68     		ldr	r2, [r3, #4]
 855              	.LVL46:
 167:Core/Src/max30102.c ****     uint32_t iMin = sampleBuff[0].iRed;
 856              		.loc 1 167 5 is_stmt 1 view .LVU170
 168:Core/Src/max30102.c **** 
 169:Core/Src/max30102.c ****     uint8_t i;
 857              		.loc 1 169 5 view .LVU171
 170:Core/Src/max30102.c ****     for (i = 0; i < BUFF_SIZE; i++)
 858              		.loc 1 170 5 view .LVU172
 167:Core/Src/max30102.c ****     uint32_t iMin = sampleBuff[0].iRed;
 859              		.loc 1 167 14 is_stmt 0 view .LVU173
 860 0012 1046     		mov	r0, r2
 861              	.LVL47:
 165:Core/Src/max30102.c ****     uint32_t iMax = sampleBuff[0].iRed;
 862              		.loc 1 165 14 view .LVU174
 863 0014 0C46     		mov	r4, r1
 864              		.loc 1 170 12 view .LVU175
 865 0016 4FF0000C 		mov	ip, #0
 866              		.loc 1 170 5 view .LVU176
 867 001a 03E0     		b	.L46
 868              	.LVL48:
 869              	.L50:
 870              		.loc 1 170 33 is_stmt 1 discriminator 2 view .LVU177
 871 001c 0CF1010C 		add	ip, ip, #1
 872              	.LVL49:
 873              		.loc 1 170 33 is_stmt 0 discriminator 2 view .LVU178
 874 0020 5FFA8CFC 		uxtb	ip, ip
 875              	.LVL50:
 876              	.L46:
 877              		.loc 1 170 19 is_stmt 1 discriminator 1 view .LVU179
 878 0024 BCF1310F 		cmp	ip, #49
 879 0028 15D8     		bhi	.L57
 171:Core/Src/max30102.c ****     {
 172:Core/Src/max30102.c ****         if (sampleBuff[i].red > rMax)
 880              		.loc 1 172 9 view .LVU180
 881              		.loc 1 172 26 is_stmt 0 view .LVU181
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 20


 882 002a E646     		mov	lr, ip
 883 002c 104B     		ldr	r3, .L58
 884 002e 53F83C30 		ldr	r3, [r3, ip, lsl #3]
 885              		.loc 1 172 12 view .LVU182
 886 0032 8B42     		cmp	r3, r1
 887 0034 00D9     		bls	.L47
 173:Core/Src/max30102.c ****             rMax = sampleBuff[i].red;
 888              		.loc 1 173 18 view .LVU183
 889 0036 1946     		mov	r1, r3
 890              	.LVL51:
 891              	.L47:
 174:Core/Src/max30102.c ****         if (sampleBuff[i].red < rMin)
 892              		.loc 1 174 9 is_stmt 1 view .LVU184
 893              		.loc 1 174 12 is_stmt 0 view .LVU185
 894 0038 A342     		cmp	r3, r4
 895 003a 00D2     		bcs	.L48
 175:Core/Src/max30102.c ****             rMin = sampleBuff[i].red;
 896              		.loc 1 175 18 view .LVU186
 897 003c 1C46     		mov	r4, r3
 898              	.LVL52:
 899              	.L48:
 176:Core/Src/max30102.c ****         if (sampleBuff[i].iRed > iMax)
 900              		.loc 1 176 9 is_stmt 1 view .LVU187
 901              		.loc 1 176 26 is_stmt 0 view .LVU188
 902 003e 0C4B     		ldr	r3, .L58
 903 0040 03EBCE0E 		add	lr, r3, lr, lsl #3
 904 0044 DEF80430 		ldr	r3, [lr, #4]
 905              		.loc 1 176 12 view .LVU189
 906 0048 9342     		cmp	r3, r2
 907 004a 00D9     		bls	.L49
 177:Core/Src/max30102.c ****             iMax = sampleBuff[i].iRed;
 908              		.loc 1 177 18 view .LVU190
 909 004c 1A46     		mov	r2, r3
 910              	.LVL53:
 911              	.L49:
 178:Core/Src/max30102.c ****         if (sampleBuff[i].iRed < iMin)
 912              		.loc 1 178 9 is_stmt 1 view .LVU191
 913              		.loc 1 178 12 is_stmt 0 view .LVU192
 914 004e 8342     		cmp	r3, r0
 915 0050 E4D2     		bcs	.L50
 179:Core/Src/max30102.c ****             iMin = sampleBuff[i].iRed;
 916              		.loc 1 179 18 view .LVU193
 917 0052 1846     		mov	r0, r3
 918              	.LVL54:
 919              		.loc 1 179 18 view .LVU194
 920 0054 E2E7     		b	.L50
 921              	.LVL55:
 922              	.L57:
 180:Core/Src/max30102.c ****     }
 181:Core/Src/max30102.c ****     *rac = rMax - rMin;
 923              		.loc 1 181 5 is_stmt 1 view .LVU195
 924              		.loc 1 181 17 is_stmt 0 view .LVU196
 925 0056 0B1B     		subs	r3, r1, r4
 926              		.loc 1 181 10 view .LVU197
 927 0058 2B80     		strh	r3, [r5]	@ movhi
 182:Core/Src/max30102.c ****     *rdc = (rMax + rMin) / 2;
 928              		.loc 1 182 5 is_stmt 1 view .LVU198
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 21


 929              		.loc 1 182 18 is_stmt 0 view .LVU199
 930 005a 2144     		add	r1, r1, r4
 931              	.LVL56:
 932              		.loc 1 182 26 view .LVU200
 933 005c 4908     		lsrs	r1, r1, #1
 934              		.loc 1 182 10 view .LVU201
 935 005e 3160     		str	r1, [r6]
 183:Core/Src/max30102.c ****     *iac = iMax - iMin;
 936              		.loc 1 183 5 is_stmt 1 view .LVU202
 937              		.loc 1 183 17 is_stmt 0 view .LVU203
 938 0060 131A     		subs	r3, r2, r0
 939              		.loc 1 183 10 view .LVU204
 940 0062 3B80     		strh	r3, [r7]	@ movhi
 184:Core/Src/max30102.c ****     *idc = (iMax + iMin) / 2;
 941              		.loc 1 184 5 is_stmt 1 view .LVU205
 942              		.loc 1 184 18 is_stmt 0 view .LVU206
 943 0064 0244     		add	r2, r2, r0
 944              	.LVL57:
 945              		.loc 1 184 26 view .LVU207
 946 0066 5208     		lsrs	r2, r2, #1
 947              		.loc 1 184 10 view .LVU208
 948 0068 C8F80020 		str	r2, [r8]
 185:Core/Src/max30102.c **** }
 949              		.loc 1 185 1 view .LVU209
 950 006c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 951              	.LVL58:
 952              	.L59:
 953              		.loc 1 185 1 view .LVU210
 954              		.align	2
 955              	.L58:
 956 0070 00000000 		.word	sampleBuff
 957              		.cfi_endproc
 958              	.LFE73:
 960              		.global	__aeabi_ui2f
 961              		.global	__aeabi_fdiv
 962              		.global	__aeabi_f2d
 963              		.global	__aeabi_dcmpge
 964              		.global	__aeabi_dcmplt
 965              		.global	__aeabi_fmul
 966              		.global	__aeabi_fsub
 967              		.global	__aeabi_f2uiz
 968              		.global	__aeabi_fcmplt
 969              		.global	__aeabi_dsub
 970              		.global	__aeabi_d2uiz
 971              		.global	__aeabi_ddiv
 972              		.section	.text.max30102_cal,"ax",%progbits
 973              		.align	1
 974              		.global	max30102_cal
 975              		.syntax unified
 976              		.thumb
 977              		.thumb_func
 979              	max30102_cal:
 980              	.LFB74:
 186:Core/Src/max30102.c **** 
 187:Core/Src/max30102.c **** int16_t eachSampleDiff = 0; 
 188:Core/Src/max30102.c **** void max30102_cal()
 189:Core/Src/max30102.c **** {
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 22


 981              		.loc 1 189 1 is_stmt 1 view -0
 982              		.cfi_startproc
 983              		@ args = 0, pretend = 0, frame = 40
 984              		@ frame_needed = 0, uses_anonymous_args = 0
 985 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 986              	.LCFI23:
 987              		.cfi_def_cfa_offset 36
 988              		.cfi_offset 4, -36
 989              		.cfi_offset 5, -32
 990              		.cfi_offset 6, -28
 991              		.cfi_offset 7, -24
 992              		.cfi_offset 8, -20
 993              		.cfi_offset 9, -16
 994              		.cfi_offset 10, -12
 995              		.cfi_offset 11, -8
 996              		.cfi_offset 14, -4
 997 0004 8BB0     		sub	sp, sp, #44
 998              	.LCFI24:
 999              		.cfi_def_cfa_offset 80
 190:Core/Src/max30102.c ****     uint8_t unreadSampleCount = max30102_getUnreadSampleCount();
 1000              		.loc 1 190 5 view .LVU212
 1001              		.loc 1 190 33 is_stmt 0 view .LVU213
 1002 0006 FFF7FEFF 		bl	max30102_getUnreadSampleCount
 1003              	.LVL59:
 1004 000a 0646     		mov	r6, r0
 1005              	.LVL60:
 191:Core/Src/max30102.c ****     SAMPLE sampleBuffTemp[5];
 1006              		.loc 1 191 5 is_stmt 1 view .LVU214
 192:Core/Src/max30102.c ****     max30102_getFIFO(sampleBuffTemp, unreadSampleCount);
 1007              		.loc 1 192 5 view .LVU215
 1008 000c 0146     		mov	r1, r0
 1009 000e 6846     		mov	r0, sp
 1010              	.LVL61:
 1011              		.loc 1 192 5 is_stmt 0 view .LVU216
 1012 0010 FFF7FEFF 		bl	max30102_getFIFO
 1013              	.LVL62:
 193:Core/Src/max30102.c ****     static uint8_t eachBeatSampleCount = 0;    
 1014              		.loc 1 193 5 is_stmt 1 view .LVU217
 194:Core/Src/max30102.c ****     static uint8_t lastTenBeatSampleCount[10]; 
 1015              		.loc 1 194 5 view .LVU218
 195:Core/Src/max30102.c ****     static uint32_t last_iRed = 0;             
 1016              		.loc 1 195 5 view .LVU219
 196:Core/Src/max30102.c ****     uint8_t i, ii;
 1017              		.loc 1 196 5 view .LVU220
 197:Core/Src/max30102.c ****     for (i = 0; i < unreadSampleCount; i++)
 1018              		.loc 1 197 5 view .LVU221
 1019              		.loc 1 197 12 is_stmt 0 view .LVU222
 1020 0014 0024     		movs	r4, #0
 1021              		.loc 1 197 5 view .LVU223
 1022 0016 73E0     		b	.L61
 1023              	.LVL63:
 1024              	.L62:
 1025              	.LBB2:
 198:Core/Src/max30102.c ****     {
 199:Core/Src/max30102.c ****         if (sampleBuffTemp[i].iRed < 40000) 
 200:Core/Src/max30102.c ****         {
 201:Core/Src/max30102.c ****             heartRate = 0;
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 23


 202:Core/Src/max30102.c ****             spo2 = 0;
 203:Core/Src/max30102.c ****             eachSampleDiff = 0;
 204:Core/Src/max30102.c ****             continue;
 205:Core/Src/max30102.c ****         }
 206:Core/Src/max30102.c ****         buffInsert(sampleBuffTemp[i]);
 1026              		.loc 1 206 9 is_stmt 1 view .LVU224
 1027 0018 E700     		lsls	r7, r4, #3
 1028 001a 0AAB     		add	r3, sp, #40
 1029 001c 03EBC403 		add	r3, r3, r4, lsl #3
 1030 0020 283B     		subs	r3, r3, #40
 1031 0022 93E80300 		ldm	r3, {r0, r1}
 1032 0026 FFF7FEFF 		bl	buffInsert
 1033              	.LVL64:
 207:Core/Src/max30102.c ****         calAcDc(&redAC, &redDC, &iRedAC, &iRedDC);
 1034              		.loc 1 207 9 view .LVU225
 1035 002a DFF8BC91 		ldr	r9, .L84+32
 1036 002e DFF8BC81 		ldr	r8, .L84+36
 1037 0032 DFF8BCA1 		ldr	r10, .L84+40
 1038 0036 DFF8BCB1 		ldr	fp, .L84+44
 1039 003a 4B46     		mov	r3, r9
 1040 003c 4246     		mov	r2, r8
 1041 003e 5146     		mov	r1, r10
 1042 0040 5846     		mov	r0, fp
 1043 0042 FFF7FEFF 		bl	calAcDc
 1044              	.LVL65:
 208:Core/Src/max30102.c ****         filter(&sampleBuffTemp[i]);
 1045              		.loc 1 208 9 view .LVU226
 1046 0046 0DEB0700 		add	r0, sp, r7
 1047 004a FFF7FEFF 		bl	filter
 1048              	.LVL66:
 209:Core/Src/max30102.c ****         //spo2
 210:Core/Src/max30102.c ****         float R = (((float)(redAC)) / ((float)(redDC))) / (((float)(iRedAC)) / ((float)(iRedDC)));
 1049              		.loc 1 210 9 view .LVU227
 1050              		.loc 1 210 21 is_stmt 0 view .LVU228
 1051 004e BBF80000 		ldrh	r0, [fp]
 1052 0052 FFF7FEFF 		bl	__aeabi_ui2f
 1053              	.LVL67:
 1054 0056 0746     		mov	r7, r0
 1055              		.loc 1 210 40 view .LVU229
 1056 0058 DAF80000 		ldr	r0, [r10]
 1057 005c FFF7FEFF 		bl	__aeabi_ui2f
 1058              	.LVL68:
 1059 0060 0146     		mov	r1, r0
 1060              		.loc 1 210 37 view .LVU230
 1061 0062 3846     		mov	r0, r7
 1062 0064 FFF7FEFF 		bl	__aeabi_fdiv
 1063              	.LVL69:
 1064 0068 0746     		mov	r7, r0
 1065              		.loc 1 210 61 view .LVU231
 1066 006a B8F80000 		ldrh	r0, [r8]
 1067 006e FFF7FEFF 		bl	__aeabi_ui2f
 1068              	.LVL70:
 1069 0072 8046     		mov	r8, r0
 1070              		.loc 1 210 81 view .LVU232
 1071 0074 D9F80000 		ldr	r0, [r9]
 1072 0078 FFF7FEFF 		bl	__aeabi_ui2f
 1073              	.LVL71:
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 24


 1074 007c 0146     		mov	r1, r0
 1075              		.loc 1 210 78 view .LVU233
 1076 007e 4046     		mov	r0, r8
 1077 0080 FFF7FEFF 		bl	__aeabi_fdiv
 1078              	.LVL72:
 1079 0084 0146     		mov	r1, r0
 1080              		.loc 1 210 15 view .LVU234
 1081 0086 3846     		mov	r0, r7
 1082 0088 FFF7FEFF 		bl	__aeabi_fdiv
 1083              	.LVL73:
 1084 008c 0746     		mov	r7, r0
 1085              	.LVL74:
 211:Core/Src/max30102.c ****         if (R >= 0.36 && R < 0.66)
 1086              		.loc 1 211 9 is_stmt 1 view .LVU235
 1087              		.loc 1 211 15 is_stmt 0 view .LVU236
 1088 008e FFF7FEFF 		bl	__aeabi_f2d
 1089              	.LVL75:
 1090              		.loc 1 211 15 view .LVU237
 1091 0092 8046     		mov	r8, r0
 1092 0094 8946     		mov	r9, r1
 1093              		.loc 1 211 12 view .LVU238
 1094 0096 4CA3     		adr	r3, .L84
 1095 0098 D3E90023 		ldrd	r2, [r3]
 1096 009c FFF7FEFF 		bl	__aeabi_dcmpge
 1097              	.LVL76:
 1098 00a0 0028     		cmp	r0, #0
 1099 00a2 42D0     		beq	.L64
 1100              		.loc 1 211 23 discriminator 1 view .LVU239
 1101 00a4 4AA3     		adr	r3, .L84+8
 1102 00a6 D3E90023 		ldrd	r2, [r3]
 1103 00aa 4046     		mov	r0, r8
 1104 00ac 4946     		mov	r1, r9
 1105 00ae FFF7FEFF 		bl	__aeabi_dcmplt
 1106              	.LVL77:
 1107 00b2 0028     		cmp	r0, #0
 1108 00b4 39D0     		beq	.L64
 212:Core/Src/max30102.c ****             spo2 = (uint8_t)(107 - 20 * R);
 1109              		.loc 1 212 13 is_stmt 1 view .LVU240
 1110              		.loc 1 212 39 is_stmt 0 view .LVU241
 1111 00b6 5049     		ldr	r1, .L84+48
 1112 00b8 3846     		mov	r0, r7
 1113 00ba FFF7FEFF 		bl	__aeabi_fmul
 1114              	.LVL78:
 1115 00be 0146     		mov	r1, r0
 1116              		.loc 1 212 34 view .LVU242
 1117 00c0 4E48     		ldr	r0, .L84+52
 1118 00c2 FFF7FEFF 		bl	__aeabi_fsub
 1119              	.LVL79:
 1120              		.loc 1 212 20 view .LVU243
 1121 00c6 FFF7FEFF 		bl	__aeabi_f2uiz
 1122              	.LVL80:
 1123              		.loc 1 212 18 view .LVU244
 1124 00ca 4D4B     		ldr	r3, .L84+56
 1125 00cc 1870     		strb	r0, [r3]
 1126              	.L67:
 213:Core/Src/max30102.c ****         else if (R >= 0.66 && R < 1)
 214:Core/Src/max30102.c ****             spo2 = (uint8_t)(129.64 - 54 * R);
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 25


 215:Core/Src/max30102.c ****         //30-250ppm  count:200-12
 216:Core/Src/max30102.c ****         eachSampleDiff = last_iRed - sampleBuffTemp[i].iRed;
 1127              		.loc 1 216 9 is_stmt 1 view .LVU245
 1128              		.loc 1 216 55 is_stmt 0 view .LVU246
 1129 00ce 0AAB     		add	r3, sp, #40
 1130 00d0 03EBC503 		add	r3, r3, r5, lsl #3
 1131 00d4 53F8247C 		ldr	r7, [r3, #-36]
 1132              	.LVL81:
 1133              		.loc 1 216 36 view .LVU247
 1134 00d8 4A4B     		ldr	r3, .L84+60
 1135 00da 1B68     		ldr	r3, [r3]
 1136 00dc DB1B     		subs	r3, r3, r7
 1137 00de 1BB2     		sxth	r3, r3
 1138              		.loc 1 216 24 view .LVU248
 1139 00e0 494A     		ldr	r2, .L84+64
 1140 00e2 1380     		strh	r3, [r2]	@ movhi
 217:Core/Src/max30102.c ****         if (eachSampleDiff > 50 && eachBeatSampleCount > 12)
 1141              		.loc 1 217 9 is_stmt 1 view .LVU249
 1142              		.loc 1 217 12 is_stmt 0 view .LVU250
 1143 00e4 322B     		cmp	r3, #50
 1144 00e6 03DD     		ble	.L70
 1145              		.loc 1 217 56 discriminator 1 view .LVU251
 1146 00e8 484B     		ldr	r3, .L84+68
 1147 00ea 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1148              		.loc 1 217 33 discriminator 1 view .LVU252
 1149 00ec 0C28     		cmp	r0, #12
 1150 00ee 4AD8     		bhi	.L82
 1151              	.L70:
 218:Core/Src/max30102.c ****         {
 219:Core/Src/max30102.c ****             for (ii = 9; ii > 0; ii--)
 220:Core/Src/max30102.c ****                 lastTenBeatSampleCount[i] = lastTenBeatSampleCount[i - 1];
 221:Core/Src/max30102.c ****             lastTenBeatSampleCount[0] = eachBeatSampleCount;
 222:Core/Src/max30102.c ****             uint32_t totalTime = 0;
 223:Core/Src/max30102.c ****             for (ii = 0; ii < 10; ii++)
 224:Core/Src/max30102.c ****                 totalTime += lastTenBeatSampleCount[i];
 225:Core/Src/max30102.c ****             heartRate = (uint8_t)(60.0 * 10 / 0.02 / ((float)totalTime));
 226:Core/Src/max30102.c ****             eachBeatSampleCount = 0;
 227:Core/Src/max30102.c ****         }
 228:Core/Src/max30102.c ****         last_iRed = sampleBuffTemp[i].iRed;
 1152              		.loc 1 228 9 is_stmt 1 view .LVU253
 1153              		.loc 1 228 19 is_stmt 0 view .LVU254
 1154 00f0 444B     		ldr	r3, .L84+60
 1155 00f2 1F60     		str	r7, [r3]
 229:Core/Src/max30102.c ****         eachBeatSampleCount++;
 1156              		.loc 1 229 9 is_stmt 1 view .LVU255
 1157              		.loc 1 229 28 is_stmt 0 view .LVU256
 1158 00f4 454A     		ldr	r2, .L84+68
 1159 00f6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1160 00f8 0133     		adds	r3, r3, #1
 1161 00fa 1370     		strb	r3, [r2]
 1162              	.LVL82:
 1163              	.L63:
 1164              		.loc 1 229 28 view .LVU257
 1165              	.LBE2:
 197:Core/Src/max30102.c ****     {
 1166              		.loc 1 197 41 is_stmt 1 discriminator 2 view .LVU258
 1167 00fc 0134     		adds	r4, r4, #1
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 26


 1168              	.LVL83:
 197:Core/Src/max30102.c ****     {
 1169              		.loc 1 197 41 is_stmt 0 discriminator 2 view .LVU259
 1170 00fe E4B2     		uxtb	r4, r4
 1171              	.LVL84:
 1172              	.L61:
 197:Core/Src/max30102.c ****     {
 1173              		.loc 1 197 19 is_stmt 1 discriminator 1 view .LVU260
 1174 0100 B442     		cmp	r4, r6
 1175 0102 5CD2     		bcs	.L83
 1176              	.LBB4:
 199:Core/Src/max30102.c ****         {
 1177              		.loc 1 199 9 view .LVU261
 199:Core/Src/max30102.c ****         {
 1178              		.loc 1 199 30 is_stmt 0 view .LVU262
 1179 0104 2546     		mov	r5, r4
 1180 0106 0AAB     		add	r3, sp, #40
 1181 0108 03EBC403 		add	r3, r3, r4, lsl #3
 1182 010c 53F8242C 		ldr	r2, [r3, #-36]
 199:Core/Src/max30102.c ****         {
 1183              		.loc 1 199 12 view .LVU263
 1184 0110 49F63F43 		movw	r3, #39999
 1185 0114 9A42     		cmp	r2, r3
 1186 0116 3FF67FAF 		bhi	.L62
 201:Core/Src/max30102.c ****             spo2 = 0;
 1187              		.loc 1 201 13 is_stmt 1 discriminator 1 view .LVU264
 201:Core/Src/max30102.c ****             spo2 = 0;
 1188              		.loc 1 201 23 is_stmt 0 discriminator 1 view .LVU265
 1189 011a 0023     		movs	r3, #0
 1190 011c 3C4A     		ldr	r2, .L84+72
 1191 011e 1370     		strb	r3, [r2]
 202:Core/Src/max30102.c ****             eachSampleDiff = 0;
 1192              		.loc 1 202 13 is_stmt 1 discriminator 1 view .LVU266
 202:Core/Src/max30102.c ****             eachSampleDiff = 0;
 1193              		.loc 1 202 18 is_stmt 0 discriminator 1 view .LVU267
 1194 0120 374A     		ldr	r2, .L84+56
 1195 0122 1370     		strb	r3, [r2]
 203:Core/Src/max30102.c ****             continue;
 1196              		.loc 1 203 13 is_stmt 1 discriminator 1 view .LVU268
 203:Core/Src/max30102.c ****             continue;
 1197              		.loc 1 203 28 is_stmt 0 discriminator 1 view .LVU269
 1198 0124 384A     		ldr	r2, .L84+64
 1199 0126 1380     		strh	r3, [r2]	@ movhi
 204:Core/Src/max30102.c ****         }
 1200              		.loc 1 204 13 is_stmt 1 discriminator 1 view .LVU270
 1201 0128 E8E7     		b	.L63
 1202              	.LVL85:
 1203              	.L64:
 213:Core/Src/max30102.c ****             spo2 = (uint8_t)(129.64 - 54 * R);
 1204              		.loc 1 213 14 view .LVU271
 213:Core/Src/max30102.c ****             spo2 = (uint8_t)(129.64 - 54 * R);
 1205              		.loc 1 213 17 is_stmt 0 view .LVU272
 1206 012a 29A3     		adr	r3, .L84+8
 1207 012c D3E90023 		ldrd	r2, [r3]
 1208 0130 4046     		mov	r0, r8
 1209 0132 4946     		mov	r1, r9
 1210 0134 FFF7FEFF 		bl	__aeabi_dcmpge
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 27


 1211              	.LVL86:
 1212 0138 0028     		cmp	r0, #0
 1213 013a C8D0     		beq	.L67
 213:Core/Src/max30102.c ****             spo2 = (uint8_t)(129.64 - 54 * R);
 1214              		.loc 1 213 28 discriminator 1 view .LVU273
 1215 013c 4FF07E51 		mov	r1, #1065353216
 1216 0140 3846     		mov	r0, r7
 1217 0142 FFF7FEFF 		bl	__aeabi_fcmplt
 1218              	.LVL87:
 1219 0146 0028     		cmp	r0, #0
 1220 0148 C1D0     		beq	.L67
 214:Core/Src/max30102.c ****         //30-250ppm  count:200-12
 1221              		.loc 1 214 13 is_stmt 1 view .LVU274
 214:Core/Src/max30102.c ****         //30-250ppm  count:200-12
 1222              		.loc 1 214 42 is_stmt 0 view .LVU275
 1223 014a 3249     		ldr	r1, .L84+76
 1224 014c 3846     		mov	r0, r7
 1225 014e FFF7FEFF 		bl	__aeabi_fmul
 1226              	.LVL88:
 1227 0152 FFF7FEFF 		bl	__aeabi_f2d
 1228              	.LVL89:
 1229 0156 0246     		mov	r2, r0
 1230 0158 0B46     		mov	r3, r1
 214:Core/Src/max30102.c ****         //30-250ppm  count:200-12
 1231              		.loc 1 214 37 view .LVU276
 1232 015a 1FA1     		adr	r1, .L84+16
 1233 015c D1E90001 		ldrd	r0, [r1]
 1234 0160 FFF7FEFF 		bl	__aeabi_dsub
 1235              	.LVL90:
 214:Core/Src/max30102.c ****         //30-250ppm  count:200-12
 1236              		.loc 1 214 20 view .LVU277
 1237 0164 FFF7FEFF 		bl	__aeabi_d2uiz
 1238              	.LVL91:
 214:Core/Src/max30102.c ****         //30-250ppm  count:200-12
 1239              		.loc 1 214 18 view .LVU278
 1240 0168 254B     		ldr	r3, .L84+56
 1241 016a 1870     		strb	r0, [r3]
 1242 016c AFE7     		b	.L67
 1243              	.LVL92:
 1244              	.L72:
 1245              	.LBB3:
 220:Core/Src/max30102.c ****             lastTenBeatSampleCount[0] = eachBeatSampleCount;
 1246              		.loc 1 220 17 is_stmt 1 discriminator 3 view .LVU279
 220:Core/Src/max30102.c ****             lastTenBeatSampleCount[0] = eachBeatSampleCount;
 1247              		.loc 1 220 70 is_stmt 0 discriminator 3 view .LVU280
 1248 016e 6A1E     		subs	r2, r5, #1
 220:Core/Src/max30102.c ****             lastTenBeatSampleCount[0] = eachBeatSampleCount;
 1249              		.loc 1 220 67 discriminator 3 view .LVU281
 1250 0170 2949     		ldr	r1, .L84+80
 1251 0172 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 220:Core/Src/max30102.c ****             lastTenBeatSampleCount[0] = eachBeatSampleCount;
 1252              		.loc 1 220 43 discriminator 3 view .LVU282
 1253 0174 4A55     		strb	r2, [r1, r5]
 219:Core/Src/max30102.c ****                 lastTenBeatSampleCount[i] = lastTenBeatSampleCount[i - 1];
 1254              		.loc 1 219 36 is_stmt 1 discriminator 3 view .LVU283
 1255 0176 013B     		subs	r3, r3, #1
 1256              	.LVL93:
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 28


 219:Core/Src/max30102.c ****                 lastTenBeatSampleCount[i] = lastTenBeatSampleCount[i - 1];
 1257              		.loc 1 219 36 is_stmt 0 discriminator 3 view .LVU284
 1258 0178 DBB2     		uxtb	r3, r3
 1259              	.LVL94:
 1260              	.L71:
 219:Core/Src/max30102.c ****                 lastTenBeatSampleCount[i] = lastTenBeatSampleCount[i - 1];
 1261              		.loc 1 219 29 is_stmt 1 discriminator 1 view .LVU285
 1262 017a 002B     		cmp	r3, #0
 1263 017c F7D1     		bne	.L72
 221:Core/Src/max30102.c ****             uint32_t totalTime = 0;
 1264              		.loc 1 221 13 view .LVU286
 221:Core/Src/max30102.c ****             uint32_t totalTime = 0;
 1265              		.loc 1 221 39 is_stmt 0 view .LVU287
 1266 017e 264A     		ldr	r2, .L84+80
 1267 0180 1070     		strb	r0, [r2]
 222:Core/Src/max30102.c ****             for (ii = 0; ii < 10; ii++)
 1268              		.loc 1 222 13 is_stmt 1 view .LVU288
 1269              	.LVL95:
 223:Core/Src/max30102.c ****                 totalTime += lastTenBeatSampleCount[i];
 1270              		.loc 1 223 13 view .LVU289
 222:Core/Src/max30102.c ****             for (ii = 0; ii < 10; ii++)
 1271              		.loc 1 222 22 is_stmt 0 view .LVU290
 1272 0182 0020     		movs	r0, #0
 223:Core/Src/max30102.c ****                 totalTime += lastTenBeatSampleCount[i];
 1273              		.loc 1 223 13 view .LVU291
 1274 0184 06E0     		b	.L73
 1275              	.LVL96:
 1276              	.L82:
 219:Core/Src/max30102.c ****                 lastTenBeatSampleCount[i] = lastTenBeatSampleCount[i - 1];
 1277              		.loc 1 219 21 view .LVU292
 1278 0186 0923     		movs	r3, #9
 1279 0188 F7E7     		b	.L71
 1280              	.LVL97:
 1281              	.L74:
 224:Core/Src/max30102.c ****             heartRate = (uint8_t)(60.0 * 10 / 0.02 / ((float)totalTime));
 1282              		.loc 1 224 17 is_stmt 1 discriminator 3 view .LVU293
 224:Core/Src/max30102.c ****             heartRate = (uint8_t)(60.0 * 10 / 0.02 / ((float)totalTime));
 1283              		.loc 1 224 52 is_stmt 0 discriminator 3 view .LVU294
 1284 018a 234A     		ldr	r2, .L84+80
 1285 018c 525D     		ldrb	r2, [r2, r5]	@ zero_extendqisi2
 224:Core/Src/max30102.c ****             heartRate = (uint8_t)(60.0 * 10 / 0.02 / ((float)totalTime));
 1286              		.loc 1 224 27 discriminator 3 view .LVU295
 1287 018e 1044     		add	r0, r0, r2
 1288              	.LVL98:
 223:Core/Src/max30102.c ****                 totalTime += lastTenBeatSampleCount[i];
 1289              		.loc 1 223 37 is_stmt 1 discriminator 3 view .LVU296
 1290 0190 0133     		adds	r3, r3, #1
 1291              	.LVL99:
 223:Core/Src/max30102.c ****                 totalTime += lastTenBeatSampleCount[i];
 1292              		.loc 1 223 37 is_stmt 0 discriminator 3 view .LVU297
 1293 0192 DBB2     		uxtb	r3, r3
 1294              	.LVL100:
 1295              	.L73:
 223:Core/Src/max30102.c ****                 totalTime += lastTenBeatSampleCount[i];
 1296              		.loc 1 223 29 is_stmt 1 discriminator 1 view .LVU298
 1297 0194 092B     		cmp	r3, #9
 1298 0196 F8D9     		bls	.L74
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 29


 225:Core/Src/max30102.c ****             eachBeatSampleCount = 0;
 1299              		.loc 1 225 13 view .LVU299
 225:Core/Src/max30102.c ****             eachBeatSampleCount = 0;
 1300              		.loc 1 225 55 is_stmt 0 view .LVU300
 1301 0198 FFF7FEFF 		bl	__aeabi_ui2f
 1302              	.LVL101:
 225:Core/Src/max30102.c ****             eachBeatSampleCount = 0;
 1303              		.loc 1 225 55 view .LVU301
 1304 019c FFF7FEFF 		bl	__aeabi_f2d
 1305              	.LVL102:
 1306 01a0 0246     		mov	r2, r0
 1307 01a2 0B46     		mov	r3, r1
 225:Core/Src/max30102.c ****             eachBeatSampleCount = 0;
 1308              		.loc 1 225 52 view .LVU302
 1309 01a4 0EA1     		adr	r1, .L84+24
 1310 01a6 D1E90001 		ldrd	r0, [r1]
 1311 01aa FFF7FEFF 		bl	__aeabi_ddiv
 1312              	.LVL103:
 225:Core/Src/max30102.c ****             eachBeatSampleCount = 0;
 1313              		.loc 1 225 25 view .LVU303
 1314 01ae FFF7FEFF 		bl	__aeabi_d2uiz
 1315              	.LVL104:
 225:Core/Src/max30102.c ****             eachBeatSampleCount = 0;
 1316              		.loc 1 225 23 view .LVU304
 1317 01b2 174B     		ldr	r3, .L84+72
 1318 01b4 1870     		strb	r0, [r3]
 226:Core/Src/max30102.c ****         }
 1319              		.loc 1 226 13 is_stmt 1 view .LVU305
 226:Core/Src/max30102.c ****         }
 1320              		.loc 1 226 33 is_stmt 0 view .LVU306
 1321 01b6 154B     		ldr	r3, .L84+68
 1322 01b8 0022     		movs	r2, #0
 1323 01ba 1A70     		strb	r2, [r3]
 1324 01bc 98E7     		b	.L70
 1325              	.LVL105:
 1326              	.L83:
 226:Core/Src/max30102.c ****         }
 1327              		.loc 1 226 33 view .LVU307
 1328              	.LBE3:
 1329              	.LBE4:
 230:Core/Src/max30102.c ****     }
 231:Core/Src/max30102.c **** }
 1330              		.loc 1 231 1 view .LVU308
 1331 01be 0BB0     		add	sp, sp, #44
 1332              	.LCFI25:
 1333              		.cfi_def_cfa_offset 36
 1334              		@ sp needed
 1335 01c0 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1336              	.LVL106:
 1337              	.L85:
 1338              		.loc 1 231 1 view .LVU309
 1339 01c4 AFF30080 		.align	3
 1340              	.L84:
 1341 01c8 0AD7A370 		.word	1889785610
 1342 01cc 3D0AD73F 		.word	1071057469
 1343 01d0 1F85EB51 		.word	1374389535
 1344 01d4 B81EE53F 		.word	1071980216
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 30


 1345 01d8 14AE47E1 		.word	-515396076
 1346 01dc 7A346040 		.word	1080046714
 1347 01e0 00000000 		.word	0
 1348 01e4 004CDD40 		.word	1088244736
 1349 01e8 00000000 		.word	iRedDC
 1350 01ec 00000000 		.word	iRedAC
 1351 01f0 00000000 		.word	redDC
 1352 01f4 00000000 		.word	redAC
 1353 01f8 0000A041 		.word	1101004800
 1354 01fc 0000D642 		.word	1121320960
 1355 0200 00000000 		.word	spo2
 1356 0204 00000000 		.word	last_iRed.2
 1357 0208 00000000 		.word	eachSampleDiff
 1358 020c 00000000 		.word	eachBeatSampleCount.1
 1359 0210 00000000 		.word	heartRate
 1360 0214 00005842 		.word	1113063424
 1361 0218 00000000 		.word	lastTenBeatSampleCount.0
 1362              		.cfi_endproc
 1363              	.LFE74:
 1365              		.section	.text.max30102_getHeartRate,"ax",%progbits
 1366              		.align	1
 1367              		.global	max30102_getHeartRate
 1368              		.syntax unified
 1369              		.thumb
 1370              		.thumb_func
 1372              	max30102_getHeartRate:
 1373              	.LFB75:
 232:Core/Src/max30102.c **** 
 233:Core/Src/max30102.c **** uint8_t max30102_getHeartRate() { return heartRate; }
 1374              		.loc 1 233 33 is_stmt 1 view -0
 1375              		.cfi_startproc
 1376              		@ args = 0, pretend = 0, frame = 0
 1377              		@ frame_needed = 0, uses_anonymous_args = 0
 1378              		@ link register save eliminated.
 1379              		.loc 1 233 35 view .LVU311
 1380              		.loc 1 233 53 is_stmt 0 view .LVU312
 1381 0000 014B     		ldr	r3, .L87
 1382 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1383 0004 7047     		bx	lr
 1384              	.L88:
 1385 0006 00BF     		.align	2
 1386              	.L87:
 1387 0008 00000000 		.word	heartRate
 1388              		.cfi_endproc
 1389              	.LFE75:
 1391              		.section	.text.max30102_getSpO2,"ax",%progbits
 1392              		.align	1
 1393              		.global	max30102_getSpO2
 1394              		.syntax unified
 1395              		.thumb
 1396              		.thumb_func
 1398              	max30102_getSpO2:
 1399              	.LFB76:
 234:Core/Src/max30102.c **** uint8_t max30102_getSpO2() { return spo2; }
 1400              		.loc 1 234 28 is_stmt 1 view -0
 1401              		.cfi_startproc
 1402              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 31


 1403              		@ frame_needed = 0, uses_anonymous_args = 0
 1404              		@ link register save eliminated.
 1405              		.loc 1 234 30 view .LVU314
 1406              		.loc 1 234 43 is_stmt 0 view .LVU315
 1407 0000 014B     		ldr	r3, .L90
 1408 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1409 0004 7047     		bx	lr
 1410              	.L91:
 1411 0006 00BF     		.align	2
 1412              	.L90:
 1413 0008 00000000 		.word	spo2
 1414              		.cfi_endproc
 1415              	.LFE76:
 1417              		.section	.text.max30102_getDiff,"ax",%progbits
 1418              		.align	1
 1419              		.global	max30102_getDiff
 1420              		.syntax unified
 1421              		.thumb
 1422              		.thumb_func
 1424              	max30102_getDiff:
 1425              	.LFB77:
 235:Core/Src/max30102.c **** int16_t max30102_getDiff() { return eachSampleDiff; }...
 1426              		.loc 1 235 28 is_stmt 1 view -0
 1427              		.cfi_startproc
 1428              		@ args = 0, pretend = 0, frame = 0
 1429              		@ frame_needed = 0, uses_anonymous_args = 0
 1430              		@ link register save eliminated.
 1431              		.loc 1 235 30 view .LVU317
 1432              		.loc 1 235 53 is_stmt 0 view .LVU318
 1433 0000 014B     		ldr	r3, .L93
 1434 0002 B3F90000 		ldrsh	r0, [r3]
 1435 0006 7047     		bx	lr
 1436              	.L94:
 1437              		.align	2
 1438              	.L93:
 1439 0008 00000000 		.word	eachSampleDiff
 1440              		.cfi_endproc
 1441              	.LFE77:
 1443              		.section	.bss.lastTenBeatSampleCount.0,"aw",%nobits
 1444              		.align	2
 1447              	lastTenBeatSampleCount.0:
 1448 0000 00000000 		.space	10
 1448      00000000 
 1448      0000
 1449              		.section	.bss.eachBeatSampleCount.1,"aw",%nobits
 1452              	eachBeatSampleCount.1:
 1453 0000 00       		.space	1
 1454              		.section	.bss.last_iRed.2,"aw",%nobits
 1455              		.align	2
 1458              	last_iRed.2:
 1459 0000 00000000 		.space	4
 1460              		.global	eachSampleDiff
 1461              		.section	.bss.eachSampleDiff,"aw",%nobits
 1462              		.align	1
 1465              	eachSampleDiff:
 1466 0000 0000     		.space	2
 1467              		.global	iRedDC
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 32


 1468              		.section	.bss.iRedDC,"aw",%nobits
 1469              		.align	2
 1472              	iRedDC:
 1473 0000 00000000 		.space	4
 1474              		.global	iRedAC
 1475              		.section	.bss.iRedAC,"aw",%nobits
 1476              		.align	1
 1479              	iRedAC:
 1480 0000 0000     		.space	2
 1481              		.global	redDC
 1482              		.section	.bss.redDC,"aw",%nobits
 1483              		.align	2
 1486              	redDC:
 1487 0000 00000000 		.space	4
 1488              		.global	redAC
 1489              		.section	.bss.redAC,"aw",%nobits
 1490              		.align	1
 1493              	redAC:
 1494 0000 0000     		.space	2
 1495              		.global	spo2
 1496              		.section	.bss.spo2,"aw",%nobits
 1499              	spo2:
 1500 0000 00       		.space	1
 1501              		.global	heartRate
 1502              		.section	.bss.heartRate,"aw",%nobits
 1505              	heartRate:
 1506 0000 00       		.space	1
 1507              		.global	sampleBuff
 1508              		.section	.bss.sampleBuff,"aw",%nobits
 1509              		.align	2
 1512              	sampleBuff:
 1513 0000 00000000 		.space	400
 1513      00000000 
 1513      00000000 
 1513      00000000 
 1513      00000000 
 1514              		.text
 1515              	.Letext0:
 1516              		.file 2 "e:\\tools_stm\\arm-gnu-toolchain-12.3.rel1-mingw-w64-i686-arm-none-eabi\\arm-gnu-toolchai
 1517              		.file 3 "e:\\tools_stm\\arm-gnu-toolchain-12.3.rel1-mingw-w64-i686-arm-none-eabi\\arm-gnu-toolchai
 1518              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1519              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1520              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1521              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 1522              		.file 8 "Core/Inc/max30102.h"
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 33


DEFINED SYMBOLS
                            *ABS*:00000000 max30102.c
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:19     .text.max30102_getUnreadSampleCount:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:25     .text.max30102_getUnreadSampleCount:00000000 max30102_getUnreadSampleCount
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:105    .text.max30102_getUnreadSampleCount:00000060 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:110    .text.max30102_getFIFO:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:116    .text.max30102_getFIFO:00000000 max30102_getFIFO
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:241    .text.max30102_getFIFO:000000a0 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:246    .text.max30102_getStatus:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:252    .text.max30102_getStatus:00000000 max30102_getStatus
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:317    .text.max30102_getStatus:0000004c $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:322    .text.max30102_init:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:328    .text.max30102_init:00000000 max30102_init
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:511    .text.max30102_init:0000011c $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:516    .text.max30102_OFF:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:522    .text.max30102_OFF:00000000 max30102_OFF
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:581    .text.max30102_OFF:00000048 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:586    .text.max30102_ON:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:592    .text.max30102_ON:00000000 max30102_ON
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:651    .text.max30102_ON:00000048 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:656    .text.filter:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:662    .text.filter:00000000 filter
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:737    .text.filter:00000038 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1512   .bss.sampleBuff:00000000 sampleBuff
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:742    .text.buffInsert:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:748    .text.buffInsert:00000000 buffInsert
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:812    .text.buffInsert:00000038 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:817    .text.calAcDc:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:823    .text.calAcDc:00000000 calAcDc
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:956    .text.calAcDc:00000070 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:973    .text.max30102_cal:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:979    .text.max30102_cal:00000000 max30102_cal
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1341   .text.max30102_cal:000001c8 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1472   .bss.iRedDC:00000000 iRedDC
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1479   .bss.iRedAC:00000000 iRedAC
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1486   .bss.redDC:00000000 redDC
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1493   .bss.redAC:00000000 redAC
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1499   .bss.spo2:00000000 spo2
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1458   .bss.last_iRed.2:00000000 last_iRed.2
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1465   .bss.eachSampleDiff:00000000 eachSampleDiff
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1452   .bss.eachBeatSampleCount.1:00000000 eachBeatSampleCount.1
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1505   .bss.heartRate:00000000 heartRate
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1447   .bss.lastTenBeatSampleCount.0:00000000 lastTenBeatSampleCount.0
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1366   .text.max30102_getHeartRate:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1372   .text.max30102_getHeartRate:00000000 max30102_getHeartRate
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1387   .text.max30102_getHeartRate:00000008 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1392   .text.max30102_getSpO2:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1398   .text.max30102_getSpO2:00000000 max30102_getSpO2
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1413   .text.max30102_getSpO2:00000008 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1418   .text.max30102_getDiff:00000000 $t
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1424   .text.max30102_getDiff:00000000 max30102_getDiff
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1439   .text.max30102_getDiff:00000008 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1444   .bss.lastTenBeatSampleCount.0:00000000 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1453   .bss.eachBeatSampleCount.1:00000000 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1455   .bss.last_iRed.2:00000000 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1462   .bss.eachSampleDiff:00000000 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1469   .bss.iRedDC:00000000 $d
ARM GAS  C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s 			page 34


C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1476   .bss.iRedAC:00000000 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1483   .bss.redDC:00000000 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1490   .bss.redAC:00000000 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1500   .bss.spo2:00000000 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1506   .bss.heartRate:00000000 $d
C:\Users\Truong\AppData\Local\Temp\ccy0baeY.s:1509   .bss.sampleBuff:00000000 $d

UNDEFINED SYMBOLS
HAL_I2C_Mem_Read
hi2c2
HAL_I2C_Mem_Write
__aeabi_ui2f
__aeabi_fdiv
__aeabi_f2d
__aeabi_dcmpge
__aeabi_dcmplt
__aeabi_fmul
__aeabi_fsub
__aeabi_f2uiz
__aeabi_fcmplt
__aeabi_dsub
__aeabi_d2uiz
__aeabi_ddiv
